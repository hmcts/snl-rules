package uk.gov.hmcts.reform.sandl.snlrules.rules

import uk.gov.hmcts.reform.sandl.snlrules.model.Session;
import uk.gov.hmcts.reform.sandl.snlrules.model.HearingPart;
import uk.gov.hmcts.reform.sandl.snlrules.model.Problem;
import uk.gov.hmcts.reform.sandl.snlrules.model.ProblemTypes;

rule "Hearing case type does not match the session case type"
    when
    	$hearingPart : HearingPart()
    	$session : Session(id == $hearingPart.sessionId)
    	Session(id == $hearingPart.sessionId && caseType != $hearingPart.caseType)
    then
        insertLogical(new Problem(ProblemTypes.Hearing_case_type_does_not_match_the_session_case_type,
                                  String.format("hearingPart:%s, session:%s", $hearingPart.getId(), $session.getId())));
end




