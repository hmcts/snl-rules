package uk.gov.hmcts.reform.sandl.snlrules.rules

import uk.gov.hmcts.reform.sandl.snlrules.model.Session;
import uk.gov.hmcts.reform.sandl.snlrules.model.Judge;
import uk.gov.hmcts.reform.sandl.snlrules.model.Availability;
import uk.gov.hmcts.reform.sandl.snlrules.model.Problem;

rule "Session Time not Available"
    when
    	$s : Session()
    	not Availability( judgeId == $s.judgeId && ($s.start.compareTo(start) >= 0 && $s.end.compareTo(end) <= 0))
    then
        System.out.println("Session " + $s.getId() + "  not available at specified time for judge " + $s.getJudgeId());
        insertLogical(new Problem($s.getId() + "@" + $s.getJudgeId(), "Session " + $s.getId() + "  not available at specified time for judge " + $s.getJudgeId()));
end


rule "We have no problems YUPII"
	when
		not Problem()
	then
		System.out.println(">>YUPI, no problem!");
end

rule "We have a problem"
	when
		Problem()
	then
		System.out.println(">>Oh no, there is a new problem :(");
end


